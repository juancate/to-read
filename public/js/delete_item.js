// Generated by CoffeeScript 1.6.3
(function() {
  var delete_request, prepare_delete, root;

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  delete_request = function(id) {
    $('#delete_modal').modal('toggle');
    return $.ajax({
      type: 'DELETE',
      url: "/" + id
    }).done(function() {
      var item;
      item = $("a.delete[data-id=" + id + "]").closest('tr');
      return item.remove();
    });
  };

  prepare_delete = function() {
    return $('.delete').on('click', function(e) {
      var id;
      e.preventDefault();
      id = $(this).data('id');
      return $('#delete_modal').data('id', id).modal('show');
    });
  };

  $(document).ready(function() {
    $('#delete_modal').on('show.bs.modal', function(e) {
      var delete_btn, id;
      id = $(this).data('id');
      delete_btn = $(this).find('.btn-danger');
      return delete_btn.attr('href', "javascript:delete_request(" + id + ")");
    });
    return prepare_delete();
  });

  root.delete_request = delete_request;

  root.prepare_delete = prepare_delete;

}).call(this);
