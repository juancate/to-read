// Generated by CoffeeScript 1.6.3
(function() {
  var deleteRequest, prepareDelete, root;

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  deleteRequest = function(id) {
    $('#delete_modal').modal('toggle');
    return $.ajax({
      type: 'DELETE',
      url: "/" + id
    }).done(function() {
      var item;
      item = $("a.delete[data-id=" + id + "]").closest('tr');
      return item.remove();
    });
  };

  prepareDelete = function() {
    return $('.delete').on('click', function(e) {
      var id;
      e.preventDefault();
      id = $(this).data('id');
      return $('#delete_modal').data('id', id).modal('show');
    });
  };

  $(document).ready(function() {
    $('#delete_modal').on('show.bs.modal', function(e) {
      var deleteBtn, id;
      id = $(this).data('id');
      deleteBtn = $(this).find('.btn-danger');
      return deleteBtn.attr('href', "javascript:deleteRequest(" + id + ")");
    });
    return prepareDelete();
  });

  root.deleteRequest = deleteRequest;

  root.prepareDelete = prepareDelete;

}).call(this);
